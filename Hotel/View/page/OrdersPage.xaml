<Page x:Class="Hotel.View.page.OrdersPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      mc:Ignorable="d"
      Title="Список бронирований"
      Background="#f8fafc"
      FontFamily="Segoe UI">

    <Page.Resources>
        <!-- Цветовая палитра -->
        <Color x:Key="PrimaryColor">#3B82F6</Color>
        <Color x:Key="BorderColor">#E2E8F0</Color>
        <Color x:Key="TextColor">#1E293B</Color>

        <!-- Кисти -->
        <SolidColorBrush x:Key="PrimaryBrush"
                         Color="{StaticResource PrimaryColor}" />
        <SolidColorBrush x:Key="BorderBrush"
                         Color="{StaticResource BorderColor}" />
        <SolidColorBrush x:Key="TextBrush"
                         Color="{StaticResource TextColor}" />

        <!-- Стиль для DataGrid -->
        <Style TargetType="DataGrid">
            <Setter Property="Background"
                    Value="White" />
            <Setter Property="BorderBrush"
                    Value="{StaticResource BorderBrush}" />
            <Setter Property="BorderThickness"
                    Value="1" />
            <Setter Property="FontSize"
                    Value="14" />
            <Setter Property="Foreground"
                    Value="{StaticResource TextBrush}" />
            <Setter Property="HeadersVisibility"
                    Value="Column" />
            <Setter Property="AutoGenerateColumns"
                    Value="False" />
            <Setter Property="IsReadOnly"
                    Value="True" />
            <Setter Property="SelectionMode"
                    Value="Single" />
            <Setter Property="SelectionUnit"
                    Value="FullRow" />
            <Setter Property="GridLinesVisibility"
                    Value="None" />
            <Setter Property="RowBackground"
                    Value="White" />
            <Setter Property="AlternatingRowBackground"
                    Value="#F8FAFC" />
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background"
                    Value="{StaticResource PrimaryBrush}" />
            <Setter Property="Foreground"
                    Value="White" />
            <Setter Property="Padding"
                    Value="12,8" />
            <Setter Property="FontWeight"
                    Value="SemiBold" />
            <Setter Property="BorderThickness"
                    Value="0" />
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="Padding"
                    Value="12,8" />
            <Setter Property="BorderThickness"
                    Value="0" />
            <Setter Property="FocusVisualStyle"
                    Value="{x:Null}" />
        </Style>
    </Page.Resources>

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*" />
            <ColumnDefinition Width="2*" />
        </Grid.ColumnDefinitions>

        <!-- Таблица бронирований -->
        <Border Grid.Column="0"
                Background="White"
                CornerRadius="8"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1"
                Padding="1">
            <DataGrid x:Name="bookingsGrid"
                      SelectionChanged="bookingsGrid_SelectionChanged">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ФИО"
                                        Binding="{Binding FullName}"
                                        Width="2*" />
                    <DataGridTextColumn Header="Тип номера"
                                        Binding="{Binding RoomType}"
                                        Width="*" />
                    <DataGridTextColumn Header="Заезд"
                                        Binding="{Binding CheckInDate, StringFormat=dd.MM.yyyy}"
                                        Width="*" />
                    <DataGridTextColumn Header="Выезд"
                                        Binding="{Binding CheckOutDate, StringFormat=dd.MM.yyyy}"
                                        Width="*" />
                    <DataGridTextColumn Header="Сумма"
                                        Binding="{Binding TotalPrice, StringFormat={}{0:N2} руб.}"
                                        Width="*" />
                </DataGrid.Columns>
            </DataGrid>
        </Border>

        <!-- Информация о клиенте -->
        <Border Grid.Column="1"
                Margin="20,0,0,0"
                Background="White"
                CornerRadius="8"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="1"
                Padding="20">
            <StackPanel>
                <TextBlock Text="Фото клиента"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Margin="0,0,0,15"
                           Foreground="{StaticResource TextBrush}" />

                <Border BorderBrush="{StaticResource BorderBrush}"
                        BorderThickness="1"
                        CornerRadius="8"
                        Padding="1">
                    <Image x:Name="selectedImage"
                           Stretch="Uniform"
                           Height="250"
                           HorizontalAlignment="Center" />
                </Border>

                <StackPanel Margin="0,20,0,0">
                    <TextBlock Text="Информация о бронировании"
                               FontSize="16"
                               FontWeight="SemiBold"
                               Margin="0,0,0,10"
                               Foreground="{StaticResource TextBrush}" />

                    <TextBlock x:Name="bookingInfoText"
                               FontSize="14"
                               TextWrapping="Wrap"
                               Foreground="{StaticResource TextBrush}" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Page>